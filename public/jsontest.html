<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>Untitled Document</title>

<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js"></script>
<script type="text/javascript">



//var csv is the CSV file with headers
//function csvJSON(csv){
//
//  var lines=csv.split("\n");
//
//  var result = [];
//
//  var headers=lines[0].split(",");
//
//  for(var i=1;i<lines.length;i++){
//
//	  var obj = {};
//	  var currentline=lines[i].split(",");
//
//	  for(var j=0;j<headers.length;j++){
//		  obj[headers[j]] = currentline[j];
//	  }
//
//	  result.push(obj);
//
//  }
//  
//  //return result; //JavaScript object
//  return JSON.stringify(result); //JSON
//}

$(document).ready(function() {
    $.ajax({
        type: "GET",
        url: "data.txt",
        dataType: "text",
        success: function(data) {processData(data);}
     });
});

function processData(allText) {
    var allTextLines = allText.split(/\r\n|\n/);
    var headers = allTextLines[0].split(',');
    var lines = [];

    for (var i=1; i<allTextLines.length; i++) {
        var data = allTextLines[i].split(',');
        if (data.length == headers.length) {

            var tarr = [];
            for (var j=0; j<headers.length; j++) {
                tarr.push(headers[j]+":"+data[j]);
            }
            lines.push(tarr);
        }
    }
    // alert(lines);
}


</script>


<script type="text/javascript">


//function handleFiles() {

//$(document).ready(function () {
	
//	alert("hai");
  //
//    $.ajax({
//        type: "GET",
//        url: "csvfile.csv",
//        dataType: "csv",
//        success: function (data) { 
//		
//		alert(data);
//		
//		//csvJSON(data);
//		
//		
//		 }
//    });
//});

//}

//$.ajax({
//    url: "csvfile.csv",
//    async: false,
//    success: function (csvd) {
//        data = $.csv.toArrays(csvd);
//		
//		alert(data);
//    },
//    dataType: "text",
//    complete: function () {
//        // call a function on complete 
//		
//		alert("hai");
//		
//    }
//});



</script>


</head>
<body >
</body>
</html>
